east_cent <- get_centre_coords(df_site)[[1]]
north_cent <- get_centre_coords(df_site)[[2]]
unique_years <- unique(df_site$Year)
unique_habs <- unique(df_site$BAP_broad)
unique_nvchabs <- unique(df_site$NVC_habitat)
df_change <- df_site %>%
get_change_by_year() %>%
distinct(Plot_ID, Year, .keep_all = TRUE)
hab_sum <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
get_hab_sums()
#df_change <- rem_plot(df_change, c(14, '14', '14a')) # thursley
df_site_priority <- filter(df_site, BAP_priority != 'Not A Priority Habitat')
map_hab_by_year(df_site_priority, 'BAP_priority', 'Plot_ID')#df_site.bb[[1]]
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols())
site_code <- 'B14'
# Taking the data from just one site
df_site <- filter(df_all, Sitecode == site_code) %>%
#fix_names(., name_swap_bap) %>%
# transform the eastings and northings into latitude and longitude
transform_coords(.) %>%
distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
df_site[['BAP_broad']] <- mapvalues(df_site[['BAP_broad']],
c('Scrub', 'Other Neutral Grasslands'),
c('Dense Scrub', 'Other Neutral Grassland'),
warn_missing = FALSE)
# Converts the NVC abbreviations to the full names
df_site$NVC_habitat <- name_swap(df_site$NVC_habitat, name_swap_nvc)
df_site$Year <- as.character(df_site$Year)
df_site <- rem_plot(df_site, c(30, '30', '30a')) # Lullington
#df_site <- rem_plot(df_site, c(14, '14', '14a')) # thursley
# Making the sub dataframes with only the major habitats selected
#object[[1]] is the data frame. object[[2]] is the list of habitats
df_site.bb <- select_by(df_site, 'BAP_broad', 700, include = c('Calcareous Grassland', 'Dwarf Shrub Heath'))
df_site.bp <- select_by(df_site, 'BAP_priority', 15)
df_site.nvcb <- select_by(df_site, 'NVC_group', 15)
df_site.nvcc <- select_by(df_site, 'NVC_habitat', 500, include = c('Calcareous grassland (CG)', 'Heath (H)'))
# the centre points of the maps
east_cent <- get_centre_coords(df_site)[[1]]
north_cent <- get_centre_coords(df_site)[[2]]
unique_years <- unique(df_site$Year)
unique_habs <- unique(df_site$BAP_broad)
unique_nvchabs <- unique(df_site$NVC_habitat)
df_change <- df_site %>%
get_change_by_year() %>%
distinct(Plot_ID, Year, .keep_all = TRUE)
hab_sum <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
get_hab_sums()
#df_change <- rem_plot(df_change, c(14, '14', '14a')) # thursley
View(df_site)
df_site_priority <- filter(df_site, BAP_priority != 'Not A Priority Habitat')
print(unique(df_site_priority$BAP_priority))
map_hab_by_year(df_site_priority, 'BAP_priority', 'BAP_priority')#df_site.bb[[1]]
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
source('./data_prep_figure4.R')
knitr::opts_chunk$set(echo = FALSE)
opts_chunk$set(fig.width=8.65, fig.height=5)
warning=FALSE
setwd('C:/Users/kiera/Work/NE_work/Report')
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols())
# for getting teh averages of each habitat
hab_sum <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
get_hab_sums()
################################################################################
# Ingleborough
################################################################################
site_code <- 'B12'
# Taking the data from just one site
df_site <- filter(df_all, Sitecode == site_code) %>%
#fix_names(., name_swap_bap) %>%
# transform the eastings and northings into latitude and longitude
transform_coords(.) %>%
distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
View(hab_sum)
source('./data_prep_figure4.R')
knitr::opts_chunk$set(echo = FALSE)
opts_chunk$set(fig.width=8.65, fig.height=5)
warning=FALSE
setwd('C:/Users/kiera/Work/NE_work/Report')
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols())
# for getting teh averages of each habitat
hab_sum <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
get_hab_sums()
source('./data_prep_figure4.R')
knitr::opts_chunk$set(echo = FALSE)
opts_chunk$set(fig.width=8.65, fig.height=5)
warning=FALSE
setwd('C:/Users/kiera/Work/NE_work/Report')
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols())
# for getting teh averages of each habitat
hab_sum <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
get_hab_sums()
################################################################################
# Ingleborough
################################################################################
site_code <- 'B12'
# Taking the data from just one site
df_site <- filter(df_all, Sitecode == site_code) %>%
#fix_names(., name_swap_bap) %>%
# transform the eastings and northings into latitude and longitude
transform_coords(.) %>%
distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
View(hab_sum)
source('./data_prep_figure4.R')
knitr::opts_chunk$set(echo = FALSE)
opts_chunk$set(fig.width=8.65, fig.height=5)
warning=FALSE
setwd('C:/Users/kiera/Work/NE_work/Report')
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols())
# for getting teh averages of each habitat
hab_sum_bb <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
get_hab_sums('BAP_broad')
################################################################################
# Ingleborough
################################################################################
site_code <- 'B12'
# Taking the data from just one site
df_site <- filter(df_all, Sitecode == site_code) %>%
#fix_names(., name_swap_bap) %>%
# transform the eastings and northings into latitude and longitude
transform_coords(.) %>%
distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols())
# for getting teh averages of each habitat
hab_sum_bb <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
get_hab_sums('BAP_broad')
# for getting teh averages of each habitat
hab_sum_bp <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
get_hab_sums('BAP_priority')
################################################################################
# Ingleborough
################################################################################
site_code <- 'B12'
# Taking the data from just one site
df_site <- filter(df_all, Sitecode == site_code) %>%
#fix_names(., name_swap_bap) %>%
# transform the eastings and northings into latitude and longitude
transform_coords(.) %>%
distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
View(hab_sum_bp)
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols())
# for getting teh averages of each habitat
hab_sum_bb <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
get_hab_sums('BAP_broad')
hab_sum_bp <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
get_hab_sums('BAP_priority')
hab_sum_n <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
get_hab_sums('NVC_group')
################################################################################
# Ingleborough
################################################################################
site_code <- 'B12'
# Taking the data from just one site
df_site <- filter(df_all, Sitecode == site_code) %>%
#fix_names(., name_swap_bap) %>%
# transform the eastings and northings into latitude and longitude
transform_coords(.) %>%
distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
View(hab_sum_n)
View(df_site)
print(sort(unique(df_all$BAP_priority)))
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/all_plots.csv', col_types = cols())
print(sort(unique(df_all$BAP_priority)))
# for getting teh averages of each habitat
all_plots <- read_csv('./dataframes/all_plots.csv', col_types = cols())
all_plots$NVC_habitat <- name_swap(all_plots$NVC_habitat, name_swap_nvc)
hab_sum_bb <- get_hab_sums('BAP_broad')
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols())
# for getting teh averages of each habitat
all_plots <- read_csv('./dataframes/all_plots.csv', col_types = cols())
print(sort(unique(all_plots$BAP_priority)))
all_plots$NVC_habitat <- name_swap(all_plots$NVC_habitat, name_swap_nvc)
hab_sum_bb <- get_hab_sums(all_plots, 'BAP_broad')
hab_sum_bp <- get_hab_sums(all_plots, 'BAP_priority')
hab_sum_n <- get_hab_sums(all_plots, 'NVC_habitat')
################################################################################
# Ingleborough
################################################################################
site_code <- 'B12'
# Taking the data from just one site
df_site <- filter(df_all, Sitecode == site_code) %>%
#fix_names(., name_swap_bap) %>%
# transform the eastings and northings into latitude and longitude
transform_coords(.) %>%
distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
source('./data_prep_figure4.R')
knitr::opts_chunk$set(echo = FALSE)
opts_chunk$set(fig.width=8.65, fig.height=5)
warning=FALSE
setwd('C:/Users/kiera/Work/NE_work/Report')
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols()) %>%
fix_names(., name_swap_bap)
source('./data_prep_figure4.R')
knitr::opts_chunk$set(echo = FALSE)
opts_chunk$set(fig.width=8.65, fig.height=5)
warning=FALSE
setwd('C:/Users/kiera/Work/NE_work/Report')
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols()) %>%
fix_names(., name_swap_bap)
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols()) %>%
fix_names(., name_swap_bap)
source('./data_prep_figure4.R')
knitr::opts_chunk$set(echo = FALSE)
opts_chunk$set(fig.width=8.65, fig.height=5)
warning=FALSE
setwd('C:/Users/kiera/Work/NE_work/Report')
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols()) %>%
fix_names(., name_swap_bap)
# for getting teh averages of each habitat
all_plots <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
fix_names(., name_swap_bap)
all_plots$NVC_habitat <- name_swap(all_plots$NVC_habitat, name_swap_nvc)
hab_sum_bb <- get_hab_sums(all_plots, 'BAP_broad')
hab_sum_bp <- get_hab_sums(all_plots, 'BAP_priority')
hab_sum_n <- get_hab_sums(all_plots, 'NVC_habitat')
print(sort(unique(all_plots$BAP_broad)))
print(sort(unique(all_plots$BAP_priority)))
################################################################################
# Ingleborough
################################################################################
site_code <- 'B12'
# Taking the data from just one site
df_site <- filter(df_all, Sitecode == site_code) %>%
#fix_names(., name_swap_bap) %>%
# transform the eastings and northings into latitude and longitude
transform_coords(.) %>%
distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols()) %>%
fix_names(., name_swap_bap)
# for getting teh averages of each habitat
all_plots <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
fix_names(., name_swap_bap)
all_plots$NVC_habitat <- name_swap(all_plots$NVC_habitat, name_swap_nvc)
hab_sum_bb <- get_hab_sums(all_plots, 'BAP_broad')
hab_sum_bp <- get_hab_sums(all_plots, 'BAP_priority')
hab_sum_n <- get_hab_sums(all_plots, 'NVC_habitat')
print(sort(unique(all_plots$BAP_broad)))
print(sort(unique(all_plots$BAP_priority)))
################################################################################
# Ingleborough
################################################################################
site_code <- 'B12'
# Taking the data from just one site
df_site <- filter(df_all, Sitecode == site_code) %>%
#fix_names(., name_swap_bap) %>%
# transform the eastings and northings into latitude and longitude
transform_coords(.) %>%
distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols()) %>%
fix_names(., name_swap_bap)
# for getting teh averages of each habitat
all_plots <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
fix_names(., name_swap_bap)
all_plots$NVC_habitat <- name_swap(all_plots$NVC_habitat, name_swap_nvc)
hab_sum_bb <- get_hab_sums(all_plots, 'BAP_broad')
hab_sum_bp <- get_hab_sums(all_plots, 'BAP_priority')
hab_sum_n <- get_hab_sums(all_plots, 'NVC_habitat')
print(sort(unique(all_plots$BAP_broad)))
print(sort(unique(all_plots$BAP_priority)))
################################################################################
# Ingleborough
################################################################################
site_code <- 'B12'
# Taking the data from just one site
df_site <- filter(df_all, Sitecode == site_code) %>%
#fix_names(., name_swap_bap) %>%
# transform the eastings and northings into latitude and longitude
transform_coords(.) %>%
distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
#df_all <- read_all_data('all_plots.csv')
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols()) %>%
fix_names(., name_swap_bap)
# for getting teh averages of each habitat
all_plots <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
fix_names(., name_swap_bap)
all_plots$NVC_habitat <- name_swap(all_plots$NVC_habitat, name_swap_nvc)
hab_sum_bb <- get_hab_sums(all_plots, 'BAP_broad')
hab_sum_bp <- get_hab_sums(all_plots, 'BAP_priority')
hab_sum_n <- get_hab_sums(all_plots, 'NVC_habitat')
################################################################################
# Ingleborough
################################################################################
site_code <- 'B12'
# Taking the data from just one site
df_site <- filter(df_all, Sitecode == site_code) %>%
transform_coords(.) %>%
distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
View(hab_sum_n)
View(hab_sum_bp)
View(hab_sum_bb)
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
source('./data_prep_figure4.R')
knitr::opts_chunk$set(echo = FALSE)
opts_chunk$set(fig.width=8.65, fig.height=5)
warning=FALSE
setwd('C:/Users/kiera/Work/NE_work/Report')
name_swap_bap <- get_names('./dataframes/rename_habitat.csv')[[1]]
name_swap_nvc <- get_names('./dataframes/rename_habitat.csv')[[2]]
bb_list <- get_names('./dataframes/rename_habitat.csv')[[3]]
bp_list <- get_names('./dataframes/rename_habitat.csv')[[4]]
df_all <- read_csv('./dataframes/report_plots.csv', col_types = cols()) %>%
fix_df(., name_swap_bap)
# for getting teh averages of each habitat
all_plots <- read_csv('./dataframes/all_plots.csv', col_types = cols()) %>%
fix_df(., name_swap_bap)
hab_sum_bb <- get_hab_sums(all_plots, 'BAP_broad')
hab_sum_bp <- get_hab_sums(all_plots, 'BAP_priority')
hab_sum_n <- get_hab_sums(all_plots, 'NVC_habitat')
################################################################################
# Ingleborough
################################################################################
# site_code <- 'B12'
#
# # Taking the data from just one site
# df_site <- filter(df_all, Sitecode == site_code) %>%
#   transform_coords(.) %>%
#   distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
#
# # Making the sub dataframes with only the major habitats selected
# #object[[1]] is the data frame. object[[2]] is the list of habitats
# df_site.bb <- select_by(df_site, 'BAP_broad', 15)
# df_site.bp <- select_by(df_site, 'BAP_priority', 15)
# df_site.nvc <- select_by(df_site, 'NVC_habitat', 15)
################################################################################
# Lower Derwent Valley
################################################################################
# site_code <- 'B36'
#
# # Taking the data from just one site
# df_site <- filter(df_all, Sitecode == site_code) %>%
#   transform_coords(.) %>%
#   distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
#
# # Making the sub dataframes with only the major habitats selected
# #object[[1]] is the data frame. object[[2]] is the list of habitats
# df_site.bb <- select_by(df_site, 'BAP_broad', 15)
# df_site.bp <- select_by(df_site, 'BAP_priority', 15)
# df_site.nvc <- select_by(df_site, 'NVC_habitat', 15)
################################################################################
# Lullington
################################################################################
#
# site_code <- 'B14'
#
# # Taking the data from just one site
# df_site <- filter(df_all, Sitecode == site_code) %>%
#   transform_coords(.) %>%
#   distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
#
# df_site <- rem_plot(df_site, c(30, '30', '30a')) # Lullington
#
# # Making the sub dataframes with only the major habitats selected
# #object[[1]] is the data frame. object[[2]] is the list of habitats
# df_site.bb <- select_by(df_site, 'BAP_broad', 700,
#                         include = c('Calcareous Grassland', 'Dwarf Shrub Heath'))
# df_site.bp <- select_by(df_site, 'BAP_priority', 700,
#                         include = c('Lowland Calcareous Grassland', 'Lowland Heathland'))
# df_site.nvc <- select_by(df_site, 'NVC_habitat', 500,
#                          include = c('Calcareous grassland (CG)', 'Heath (H)'))
################################################################################
# Martin Down
################################################################################
# site_code <- 'B15'
#
# # Taking the data from just one site
# df_site <- filter(df_all, Sitecode == site_code) %>%
#   transform_coords(.) %>%
#   distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
#
# #df_site <- rem_plot(df_site, c(30, '30', '30a')) # Lullington
#
# # Making the sub dataframes with only the major habitats selected
# #object[[1]] is the data frame. object[[2]] is the list of habitats
# df_site.bb <- select_by(df_site, 'BAP_broad', 15)
# df_site.bp <- select_by(df_site, 'BAP_priority', 15)
# df_site.nvc <- select_by(df_site, 'NVC_habitat', 15)
################################################################################
# Stiperstones
################################################################################
site_code <- 'B25'
# Taking the data from just one site
df_site <- filter(df_all, Sitecode == site_code) %>%
transform_coords(.) %>%
distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
#df_site <- rem_plot(df_site, c(30, '30', '30a')) # Lullington
# Making the sub dataframes with only the major habitats selected
#object[[1]] is the data frame. object[[2]] is the list of habitats
df_site.bb <- select_by(df_site, 'BAP_broad', 15)#,
#include = c('Calcareous Grassland', 'Dwarf Shrub Heath'))
df_site.bp <- select_by(df_site, 'BAP_priority', 15)
df_site.nvc <- select_by(df_site, 'NVC_habitat', 15)#,
#include = c('Calcareous grassland (CG)', 'Heath (H)'))
################################################################################
# Thursley
################################################################################
# site_code <- 'B26'
#
# # Taking the data from just one site
# df_site <- filter(df_all, Sitecode == site_code) %>%
#   transform_coords(.) %>%
#   distinct(Plot_ID, Sitecode, Year, .keep_all = TRUE)
#
# df_site <- rem_plot(df_site, c(14, '14', '14a')) # thursley
#
# # Making the sub dataframes with only the major habitats selected
# #object[[1]] is the data frame. object[[2]] is the list of habitats
# df_site.bb <- select_by(df_site, 'BAP_broad', 700,
#                         include = c('Calcareous Grassland', 'Dwarf Shrub Heath'))
# df_site.bp <- select_by(df_site, 'BAP_priority', 15)
# df_site.nvc <- select_by(df_site, 'NVC_habitat', 500,
#                          include = c('Calcareous grassland (CG)', 'Heath (H)'))
View(df_site)
library(tidyverse)
library(readxl) # reading in the excel files
library(stringr) # capitalising the first letter of a string
library(openxlsx) # writing the data to an excel file
library(stringdist) # matching strings in the rename function
library(plyr) # mapvalues in the name swap
library(googlesheets4) # for writing to google sheets
library(googledrive) # for moving the subsequent google sheet to the right dir
# This is for if you want to make the outputs into googlesheets
google_dir <- 'https://drive.google.com/drive/folders/1dCINS3zQFK0M_YTfwIeVFPEHvVTjQH29/'
drive_auth()
library(tidyverse)
library(readxl) # reading in the excel files
library(stringr) # capitalising the first letter of a string
library(openxlsx) # writing the data to an excel file
library(stringdist) # matching strings in the rename function
library(plyr) # mapvalues in the name swap
library(googlesheets4) # for writing to google sheets
library(googledrive) # for moving the subsequent google sheet to the right dir
# This is for if you want to make the outputs into googlesheets
google_dir <- 'https://drive.google.com/drive/folders/1dCINS3zQFK0M_YTfwIeVFPEHvVTjQH29/'
drive_auth()
