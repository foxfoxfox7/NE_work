laptop_dir <- 'C:/Users/kiera/Work/NE_work/Vegetation/'
setwd(laptop_dir)
file_dir <- './Data/'
list_of_files <- list.files(file_dir)
print(list_of_files)
file_dir <- './Data/All_data_old'
list_of_files <- list.files(file_dir)
print(list_of_files)
list_of_files <- list_of_files %>%
map_chr(gsub, '.{5}$')
print(list_of_files)
list_of_files <- list_of_files %>%
map_chr(gsub, '.{5}$')
library(tidyverse)
library(readxl) # reading in the excel files
library(stringr) # capitalising the first letter of a string
library(openxlsx) # writing the data to an excel file
library(stringdist) # matching strings in the rename function
library(plyr)
list_of_files <- list_of_files %>%
map_chr(gsub, '.{5}$')
list_of_files <- list_of_files %>%
substr(.,1,5)
print(list_of_files)
file_dir <- './Data/All_data_old'
list_of_files <- list.files(file_dir)
list_of_files <- list_of_files %>%
substr(.,12,5)
print(list_of_files)
file_dir <- './Data/All_data_old'
list_of_files <- list.files(file_dir)
list_of_files <- list_of_files %>%
substr(.,1,nchar(a$data)-5)
print(list_of_files)
list_of_files <- list_of_files %>%
substr(.,1,nchar(a$data)-5)
list_of_files <- list_of_files %>%
substr(.,1,nchar(list_of_files)-5)
print(list_of_files)
file_dir <- './Data/All_data_old'
list_of_files <- list.files(file_dir)
list_of_files <- list_of_files %>%
substr(.,1,nchar(list_of_files)-32) %>%
unique()
print(list_of_files)
for (ii in 1:length(list_of_files)) {
file_path <- paste(file_dir, survey_name, sep='')
species <- read_excel(file_path, sheet = "Whole Plot Data")
}
for (ii in 1:length(list_of_files)) {
file_path <- paste(file_dir, list_of_files[ii], sep='')
species <- read_excel(file_path, sheet = "Whole Plot Data")
}
for (ii in 1:length(list_of_files)) {
file_path <- paste(file_dir, list_of_files[ii], sep='')
species <- read_excel(file_path, sheet = "Whole Plot Data")
}
file_dir <- './Data/All_data_old/'
for (ii in 1:length(list_of_files)) {
file_path <- paste(file_dir, list_of_files[ii], sep='')
species <- read_excel(file_path, sheet = "Whole Plot Data")
}
file_dir <- './Data/All_data_old/'
list_of_files <- list.files(file_dir)
for (ii in 1:length(list_of_files)) {
file_path <- paste(file_dir, list_of_files[ii], sep='')
species <- read_excel(file_path, sheet = "Whole Plot Data")
}
codes <-c()
for (ii in 1:length(list_of_files)) {
file_path <- paste(file_dir, list_of_files[ii], sep='')
wpd <- read_excel(file_path, sheet = "Whole Plot Data")
codes <- c(codes, wpd$SITE[1])
}
print(codes)
for (ii in 1:length(list_of_files)) {
file_path <- paste(file_dir, list_of_files[ii], sep='')
wpd <- read_excel(file_path, sheet = "Whole Plot Data")
print(wpd$SITE[1])
codes <- c(codes, wpd$SITE[1])
}
codes <-c()
for (ii in 1:length(list_of_files)) {
file_path <- paste(file_dir, list_of_files[ii], sep='')
wpd <- read_excel(file_path, sheet = "Whole Plot Data")
print(wpd$SITECODE[1])
codes <- c(codes, wpd$SITECODE[1])
}
print(codes)
print(unique(codes))
list_of_files <- list_of_files %>%
substr(.,1,nchar(list_of_files)-32) %>%
unique()
print(list_of_files)
laptop_dir <- 'C:/Users/kiera/Work/NE_work/Vegetation/'
setwd(laptop_dir)
file_dir <- './Data/All_data_old/'
list_of_files <- list.files(file_dir)
codes <-c()
for (ii in 1:length(list_of_files)) {
file_path <- paste(file_dir, list_of_files[ii], sep='')
wpd <- read_excel(file_path, sheet = "Whole Plot Data")
print(wpd$SITECODE[1])
codes <- c(codes, wpd$SITECODE[1])
}
list_of_files_u <- list_of_files %>%
substr(.,1,nchar(list_of_files)-32) %>%
unique()
df <- data.frame(Sitecode = unique(codes),
Name = list_of_files_u)
View(df)
write.csv(df, 'sitecodes.csv', row.names = FALSE)
df <- data.frame(Sitecode = unique(codes),
Name = list_of_files_u,
veg_surveys = 0)
write.csv(df, 'sitecodes.csv', row.names = FALSE)
install.packages("RPostgreSQL")
library("RPostgreSQL")
pw <- '2757'
# loads the PostgreSQL driver
drv <- dbDriver("PostgreSQL")
con <- dbConnect(drv, dbname = "ltmn_veg",
host = "localhost", port = 5432,
user = "Kieran", password = pw)
con <- dbConnect(drv, dbname = "ltmn_veg",
host = "localhost", port = 5432,
user = "postgres", password = pw)
install.packages('devtools')
install.packages(‘remotes’)
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
remotes::install_github("r-dbi/RPostgres")
install.packages(‘RPostgres’)
install.packages(RPostgres)
con<-dbConnect(RPostgres::Postgres())
install.packages(RPostgres)
library(DBI)
install.packages("RPostgreSQL")
install.packages("RPostgreSQL")
con<-dbConnect(RPostgresql::Postgres())
drv <- dbDriver("RPostgreSQL")
# creates a connection to the postgres database
# note that "con" will be used later in each connection to the database
con <- dbConnect(drv, dbname = "ltmn_veg",
host = "localhost", port = 5432,
user = "postgres", password = pw)
con <- dbConnect(Rpostgresql::postgresql(),
dbname = 'ltmn_veg',
host = 'localhost',
port = 5432,
user = 'postgres',
password = '2757')
library(DBI)
con <- dbConnect(Rpostgresql::postgresql(),
dbname = 'ltmn_veg',
host = 'localhost',
port = 5432,
user = 'postgres',
password = '2757')
install.packages("RPostgreSQL")
con <- dbConnect(Rpostgresql::postgresql(),
dbname = 'ltmn_veg',
host = 'localhost',
port = 5432,
user = 'postgres',
password = '2757')
con <- dbConnect(RPostgreSQL::postgresql(),
dbname = 'ltmn_veg',
host = 'localhost',
port = 5432,
user = 'postgres',
password = '2757')
con <- dbConnect(dbDriver("RPostgreSQL"),
dbname = 'ltmn_veg',
host = 'localhost',
port = 5432,
user = 'postgres',
password = '2757')
drv <- RPostgreSQL::PostgreSQL()
con <- DBI::dbConnect(drv, dbname = 'ltmn_veg', user = 'postgres',
host = 'localhost', port = 5432, password = '2757')
